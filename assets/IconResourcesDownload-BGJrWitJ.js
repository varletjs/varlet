import{a0 as L,a1 as N,a2 as W,d as O,b as E,m as i,h as a,x as t,r as U,D as X,a3 as R,y as p,t as D,p as C,v as w,N as k,O as Y,Q as F,R as H,a4 as ce,a5 as fe,e as q,L as Q,P as pe,f as P,q as V,a6 as g,F as Z,S as _,w as x,U as h}from"./index-DtCrA0ro.js";import{I as ee}from"./index-BmK8NkgI.js";import{c as G,w as I,a as j,d as J,p as T,f as he}from"./components-DCYWhF10.js";import{m as ge}from"./elements-C0ey49jB.js";import{R as ye}from"./index-BCtpWzTV.js";function ne(e){return e?!!(e==="desktop"&&N()||e==="mobile"&&!N()):!1}function me(e){const n=e.getAttribute("style");return n?n.split(";").filter(Boolean).reduce((o,s)=>{const[l,d]=s.split(":").map(v=>v.trim());return o[W(l)]=d,o},{}):{}}function be(e){const{value:n}=e._hover,o=me(e);Object.keys(n).forEach(s=>{const l=W(s);n[l]!=null&&o[l]&&(e._hover.rawStyle[l]=o[l])})}function A(e,n){Object.keys(n).forEach(o=>{const s=n[o];s!=null&&(e.style[o]=s)})}function $e(e){Object.keys(e._hover.value).forEach(n=>{e._hover.value[n]!=null&&(e.style[n]="")})}function oe(e){e?._hover!=null&&($e(e),A(e,e._hover.rawStyle))}function se(){const{value:e}=this._hover;if(this._hover.hovering=!0,L(e)){e(this._hover.hovering);return}A(this,e)}function ae(){if(this._hover.hovering=!1,L(this._hover.value)){this._hover.value(this._hover.hovering);return}oe(this)}function ie(e,n){const{arg:o,value:s}=n;ne(o)||(e._hover={value:s,hovering:e._hover?.hovering??!1,rawStyle:{}},be(e),e.addEventListener("mouseenter",se),e.addEventListener("mouseleave",ae))}function te(e,n){ne(n.arg)||(oe(e),e.removeEventListener("mouseenter",se),e.removeEventListener("mouseleave",ae))}function Se(e,n){e._hover&&te(e,n)}function Ce(e,n){return!L(n.value)&&e._hover.hovering}function we(e,n){ie(e,n),Ce(e,n)&&A(e,n.value)}const ze={mounted:ie,unmounted:te,beforeUpdate:Se,updated:we,install(e){e.directive("hover",this)}},re={hovering:Boolean,focusing:Boolean},{name:Be,n:ke,classes:Te}=G("hover-overlay"),Ne=O({name:Be,props:re,setup:()=>({n:ke,classes:Te,inMobile:N})});function Ue(e,n,o,s,l,d){return a(),i("div",{class:t(e.classes(e.n(),[e.hovering,e.n("--hovering")],[e.focusing&&!e.inMobile(),e.n("--focusing")]))},null,2)}const K=E(Ne,[["render",Ue]]);I(K);j(K,re);function Re(){const e=U(!1);return{hovering:e,handleHovering:o=>{e.value=o}}}const $={type:{type:String,default:"circle"},radius:[String,Number],size:{type:String,default:"normal"},color:String,description:String,loading:Boolean},{name:De,n:Le,classes:Oe}=G("loading"),Ee=O({name:De,props:$,setup(e,{slots:n}){const o=X(()=>R(n.default)?e.loading:!0);return{loadingTypeDict:{wave:5,cube:4,rect:8,disappear:3},isShow:o,n:Le,classes:Oe,multiplySizeUnit:ge}}});function Fe(e,n,o,s,l,d){return a(),i("div",{class:t(e.n())},[e.$slots.default?(a(),i("div",{key:0,class:t(e.classes(e.n("content"),[e.loading,e.n("content--active")]))},[D(e.$slots,"default"),e.loading?(a(),i("div",{key:0,class:t(e.n("content-mask"))},null,2)):p("v-if",!0)],2)):p("v-if",!0),e.isShow?(a(),i("div",{key:1,class:t(e.classes(e.n("$--box"),e.n("body"),[e.$slots.default,e.n("inside")]))},[e.type==="circle"?(a(),i("div",{key:0,class:t(e.n("circle"))},[C("span",{class:t(e.classes(e.n("circle-block"),e.n(`circle-block--${e.size}`))),style:w({width:e.multiplySizeUnit(e.radius,2),height:e.multiplySizeUnit(e.radius,2),color:e.color})},[...n[0]||(n[0]=[C("svg",{viewBox:"25 25 50 50"},[C("circle",{cx:"50",cy:"50",r:"20",fill:"none"})],-1)])],6)],2)):p("v-if",!0),(a(!0),i(k,null,Y(e.loadingTypeDict,(v,r)=>(a(),i(k,{key:r},[e.type===r?(a(),i("div",{key:0,class:t(e.classes(e.n(r),e.n(`${r}--${e.size}`)))},[(a(!0),i(k,null,Y(v,y=>(a(),i("div",{key:y+r,style:w({backgroundColor:e.color}),class:t(e.classes(e.n(`${r}-item`),e.n(`${r}-item--${e.size}`)))},null,6))),128))],2)):p("v-if",!0)],64))),128)),e.$slots.description||e.description?(a(),i("div",{key:1,class:t(e.classes(e.n("description"),e.n(`description--${e.size}`))),style:w({color:e.color})},[D(e.$slots,"description",{},()=>[F(H(e.description),1)])],6)):p("v-if",!0)],2)):p("v-if",!0)],2)}const M=E(Ee,[["render",Fe]]);I(M);j(M,$);const le={type:String,nativeType:{type:String,default:"button"},size:String,loading:Boolean,round:Boolean,block:Boolean,text:Boolean,outline:Boolean,disabled:Boolean,autoLoading:Boolean,iconContainer:Boolean,ripple:{type:Boolean,default:!0},focusable:{type:Boolean,default:!0},color:String,textColor:String,elevation:{type:[Boolean,Number,String],default:!0},loadingRadius:[Number,String],loadingType:T($,"type"),loadingSize:{...T($,"size"),default:void 0},loadingColor:{...T($,"color"),default:"currentColor"},onClick:J(),onTouchstart:J()},He=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY");function Pe(){const{bindParent:e,parentProvider:n,index:o}=ce(He);return{index:o,buttonGroup:n,bindButtonGroup:e}}const{name:Ve,n:Ge,classes:Ie}=G("button"),je=O({name:Ve,components:{VarLoading:M,VarHoverOverlay:K},directives:{Ripple:ye,Hover:ze},props:le,setup(e){const n=U(!1),o=U(!1),{buttonGroup:s}=Pe(),{hovering:l,handleHovering:d}=Re(),v=X(()=>{if(!s)return{elevation:he(e.elevation,2),type:e.type??"default",size:e.size??"normal",color:e.color,text:e.text,textColor:e.textColor,outline:e.outline,iconContainer:e.iconContainer};const{type:c,size:m,color:b,textColor:f,mode:S}=s;return{elevation:"",type:e.type??c.value,size:e.size??m.value,color:e.color??b.value,textColor:e.textColor??f.value,text:S.value==="text"||S.value==="outline",outline:S.value==="outline",iconContainer:S.value==="icon-container"}});function r(c){e.autoLoading&&(o.value=!0,Promise.all(fe(c)).then(()=>{o.value=!1}).catch(()=>{o.value=!1}))}function y(c){const{loading:m,disabled:b,onClick:f}=e;!f||m||b||o.value||r(R(f,c))}function B(c){const{loading:m,disabled:b,onTouchstart:f}=e;!f||m||b||o.value||r(R(f,c))}function u(){e.focusable&&(n.value=!0)}return{pending:o,states:v,hovering:l,isFocusing:n,n:Ge,classes:Ie,handleHovering:d,handleClick:y,handleTouchstart:B,handleFocus:u}}}),Ae=["tabindex","type","disabled"];function Ke(e,n,o,s,l,d){const v=q("var-loading"),r=q("var-hover-overlay"),y=Q("ripple"),B=Q("hover");return pe((a(),i("button",{class:t(e.classes(e.n(),e.n("$--box"),e.n(`--${e.states.size}`),[e.block,`${e.n("$--flex")} ${e.n("--block")}`,e.n("$--inline-flex")],[!e.states.text,e.states.elevation],[!e.states.iconContainer&&!e.states.text,e.n(`--${e.states.type}`)],[e.states.text,`${e.n("--text")} ${e.n(`--text-${e.states.type}`)}`],[e.states.iconContainer,e.n(`--icon-container-${e.states.type}`)],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")],[e.loading||e.pending,e.n("--loading")],[e.disabled,e.n("--disabled")],[e.states.text&&e.disabled,e.n("--text-disabled")])),tabindex:e.focusable?void 0:"-1",style:w({color:e.states.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:n[0]||(n[0]=(...u)=>e.handleClick&&e.handleClick(...u)),onTouchstart:n[1]||(n[1]=(...u)=>e.handleTouchstart&&e.handleTouchstart(...u)),onFocus:n[2]||(n[2]=(...u)=>e.handleFocus&&e.handleFocus(...u)),onBlur:n[3]||(n[3]=u=>e.isFocusing=!1)},[e.loading||e.pending?(a(),P(v,{key:0,class:t(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize||e.states.size,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):p("v-if",!0),C("div",{class:t(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[D(e.$slots,"default")],2),V(r,{hovering:e.disabled||e.loading||e.pending?!1:e.hovering,focusing:e.disabled||e.loading||e.pending?!1:e.isFocusing},null,8,["hovering","focusing"])],46,Ae)),[[y,{disabled:e.disabled||!e.ripple||e.loading||e.pending}],[B,e.handleHovering,"desktop"]])}const z=E(je,[["render",Ke]]);I(z);j(z,le);const Me={downloadResources:"Download Resources"},Ye={downloadResources:"下载资源"},{add:ue,use:qe,t:de,merge:_e}=g.useLocale(),ve=e=>{g.use(e),qe(e)};g.add("zh-CN",g.zhCN);g.add("en-US",g.enUS);ue("zh-CN",Ye);ue("en-US",Me);const xe={__name:"ComponentResourcesDownload",setup(e){Z(ve,"pc"),_();function n(){window.location.href="https://raw.githubusercontent.com/varletjs/varlet-design-resources/main/components.sketch"}return(o,s)=>(a(),P(h(z),{type:"primary",onClick:n},{default:x(()=>[F(H(h(de)("downloadResources"))+" ",1),V(h(ee),{name:"download",style:{margin:"2px 0 0 6px"}})]),_:1}))}},en={__name:"IconResourcesDownload",setup(e){Z(ve,"pc"),_();function n(){window.location.href="https://raw.githubusercontent.com/varletjs/varlet-design-resources/main/icons.sketch"}return(o,s)=>(a(),P(h(z),{type:"primary",onClick:n},{default:x(()=>[F(H(h(de)("downloadResources"))+" ",1),V(h(ee),{name:"download",style:{margin:"2px 0 0 6px"}})]),_:1}))}};export{en as _,xe as a};
