import{a as P,b as R,m as i,h as l,p as _,d as E,X as O,Y as w,N as I,O as D,M as V,U as N,P as S,L as U,f as q,w as x,R as M,x as A,e as C,r as m,c as f,o as G,G as H,q as v,Z as Y,g as L,n as z,l as F,C as X,y as Z}from"./index-DtCrA0ro.js";import{_ as j,A as J}from"./AppHeader-BK-kZ-Cb.js";const K={name:"AppMobile",props:{componentName:{type:String},language:{type:String},replace:{type:String},hash:{type:String}},setup(){return{getMobileIndex:P}}},Q={class:"varlet-site-mobile varlet-site-mobile--375"},W={class:"varlet-site-mobile-content"},ee=["src"];function ae(T,u,n,d,p,r){return l(),i("div",Q,[_("div",W,[_("iframe",{id:"mobile",src:`${d.getMobileIndex()}#/${n.componentName}?language=${n.language}&platform=pc&replace=${n.replace}${n.hash?`#${n.hash}`:""}`},null,8,ee)])])}const te=R(K,[["render",ae]]),ne={class:"varlet-site-sidebar var-elevation--3"},se=["href"],oe={key:0,class:"varlet-site-sidebar__item--title"},le={key:1},re=E({__name:"AppSidebar",props:{menu:{},menuName:{},language:{}},emits:["change"],setup(T,{emit:u}){const n=T,d=u,p=O(w),r=a=>{a.type===w.TITLE||n.menuName===a.doc||d("change",a)};return(a,o)=>{const g=C("var-cell"),y=U("ripple");return l(),i("div",ne,[(l(!0),i(I,null,D(a.menu,(t,b)=>(l(),i("a",{class:"varlet-site-sidebar__link",key:b,href:t.type!==N(w).TITLE?`#/${a.language}/${t.doc}`:void 0,onClick:o[0]||(o[0]=V(()=>{},["prevent"]))},[S((l(),q(g,{class:A(["varlet-site-sidebar__item",{"varlet-site-sidebar__item--active":t.doc===a.menuName,"varlet-site-sidebar__cell":t.type!==p.TITLE,"varlet-site-sidebar__title":t.type===p.TITLE}]),id:t.doc,onClick:$=>r(t)},{default:x(()=>[o[1]||(o[1]=_("span",{class:"varlet-site-sidebar__indicator"},null,-1)),t.type===p.TITLE?(l(),i("span",oe,M(t.text[a.language]),1)):(l(),i("span",le,M(t.text[a.language]),1))]),_:2},1032,["id","class","onClick"])),[[y,{disabled:t.type===p.TITLE}]])],8,se))),128))])}}}),ce={class:"varlet-site"},ie={class:"varlet-site-content"},ue={class:"varlet-site-playground-container"},de=["src"],_e=E({__name:"Layout",setup(T){const u=F,n=m(f?.pc?.menu??[]),d=m(f?.useMobile),p=f?.mobile?.redirect,r=m(""),a=m(),o=m(""),g=m(""),y=m(null),t=X(),b=e=>n.value.find(c=>c.doc===e)?.type===w.COMPONENT?e:p.slice(1),$=()=>{const{menuName:e}=L();z(()=>{const s=document.querySelector(".varlet-site-sidebar").getElementsByClassName("var-cell"),c=n.value.findIndex(h=>h.doc===e);c!==-1&&s[c].scrollIntoView({block:"center",inline:"start"})})},B=e=>{y.value.scrollTop=0,a.value=b(e.doc),o.value=e.doc,g.value=""},k=()=>{const e="VARLET_UI_PLAYGROUND_HAS_BEEN_CLOSED";!localStorage.getItem(e)&&!window.confirm("The code will no longer be saved after closing. Are you sure you want to close?")||(localStorage.setItem(e,"true"),u.showPlayground=!1)};return G(()=>{$(),window.addEventListener("message",e=>{const{data:s}=e;s.action==="playground-close"&&k()})}),H(()=>t.path,()=>{const{language:e,menuName:s,hash:c}=L();!e||!s||(a.value=b(s),o.value=s,g.value=c,r.value=e,d.value=n.value.find(h=>h.doc===s)?.useMobile??f?.useMobile,document.title=f?.pc?.title[e])},{immediate:!0}),(e,s)=>{const c=C("router-view"),h=C("var-popup");return l(),i(I,null,[_("div",ce,[v(j,{language:r.value},null,8,["language"]),v(J,{language:r.value},null,8,["language"]),_("div",ie,[v(re,{language:r.value,menu:n.value,"menu-name":o.value,onChange:B},null,8,["language","menu","menu-name"]),_("div",{class:A(["varlet-site-doc-container",[!d.value&&"varlet-site-doc-container--pc-only"]]),ref_key:"doc",ref:y},[v(c)],2),S(v(te,{"component-name":a.value,language:r.value,replace:o.value,hash:g.value},null,8,["component-name","language","replace","hash"]),[[Y,d.value]])])]),v(h,{position:"right",show:N(u).showPlayground,onClickOverlay:k},{default:x(()=>[_("div",ue,[N(u).showPlayground?(l(),i("iframe",{key:0,id:"playground",class:"varlet-site-playground-iframe",src:N(u).playgroundURL,allow:"clipboard-write"},null,8,de)):Z("v-if",!0)])]),_:1},8,["show"])],64)}}});export{_e as default};
