:root {
  --switch-track-background: #fff;
  --switch-track-active-background: var(--color-primary);
  --switch-track-error-background: var(--color-danger);
  --switch-ripple-color: var(--color-primary);
  --switch-handle-background: #fff;
  --switch-handle-color: #fff;
  --switch-handle-active-background: var(--color-primary);
  --switch-handle-error-background: var(--color-danger);
  --switch-disabled-opacity: var(--opacity-disabled);
  --switch-variant-width: 52px;
  --switch-variant-height: 32px;
  --switch-variant-handle-active-width: 24px;
  --switch-variant-handle-active-height: 24px;
  --switch-variant-handle-width: 16px;
  --switch-variant-handle-height: 16px;
}

.var-switch {
  display: inline-block;

  &__block {
    position: relative;
    display: flex;
    cursor: pointer;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    align-items: center;
    justify-content: center;
    height: 24px;
    width: 40px;
    transition: filter 0.25s;
  }

  &--disabled {
    filter: opacity(var(--switch-disabled-opacity));
    cursor: not-allowed;
  }

  &__track {
    background-color: var(--switch-track-background);
    transition: background-color 0.25s;
    filter: opacity(var(--switch-disabled-opacity));
    height: 14.4px;
    width: 38px;
    border-radius: calc(20px * 2 / 3);

    &--active {
      background-color: var(--switch-track-active-background);
    }

    &--error {
      background-color: var(--switch-track-error-background) !important;
    }
  }

  &__ripple {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--switch-ripple-color);
    border-radius: 50%;
    overflow: hidden;
    outline: none;
    transition: 0.3s var(--cubic-bezier);
    width: 40px;
    height: 40px;
    left: -10px;

    &--active {
      left: 10px;
    }
  }

  &__handle {
    border-radius: 50%;
    background-color: var(--switch-handle-background);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--switch-handle-color);
    transition: background-color 0.25s;
    width: 20px;
    height: 20px;

    &--active {
      background-color: var(--switch-handle-active-background);
    }

    &--error {
      background-color: var(--switch-handle-error-background) !important;
    }
  }

  &--variant {
    .var-switch__block {
      width: var(--switch-variant-width);
      height: var(--switch-variant-height);

      .var-switch__track {
        width: 100%;
        height: 100%;
        padding: 4px 2px;
        border-radius: 9999px;
      }

      .var-switch__ripple {
        width: 48px;
        height: 48px;

        .var-switch__handle {
          width: var(--switch-variant-handle-width);
          height: var(--switch-variant-handle-height);
          transform: calc(var(--switch-variant-handle-height) / var(--switch-variant-handle-active-height));

          &--active {
            width: var(--switch-variant-handle-active-width);
            height: var(--switch-variant-handle-active-height);
          }
        }
      }
    }
  }

  &__loading {
    display: inline-block;
    width: 16px;
    height: 16px;
    animation: circle 1.8s linear infinite;

    svg {
      display: block;
      width: 100%;
      height: 100%;

      circle {
        animation: circular 1.5s ease-in-out infinite;
        stroke: currentColor;
        stroke-width: 3;
        stroke-linecap: round;
      }
    }

    @keyframes circle {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }
    @keyframes circular {
      0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
      }

      50% {
        stroke-dasharray: 90, 150;
        stroke-dashoffset: -40;
      }

      100% {
        stroke-dasharray: 90, 150;
        stroke-dashoffset: -120;
      }
    }
  }
}
