import{_ as P,e as o,m as c,p as _,d as I,W as D,X as N,b as k,L as V,N as M,R as U,S as T,M as q,Q as A,f as F,w as x,O as E,x as B,r as p,g as h,c as f,o as H,F as Y,q as y,Y as z,t as G,l as Q,I as W,a as S,n as X}from"./index-vwO9GBzB.js";import{A as j}from"./AppHeader-jC_iOhHJ.js";const J={name:"AppMobile",props:{componentName:{type:String},language:{type:String},replace:{type:String},hash:{type:String}}},K={class:"varlet-site-mobile varlet-site-mobile--375"},Z={class:"varlet-site-mobile-content"},ee=["src"];function ae(C,r,s,m,i,u){return o(),c("div",K,[_("div",Z,[_("iframe",{id:"mobile",src:`./mobile.html#/${s.componentName}?language=${s.language}&platform=pc&replace=${s.replace}${s.hash?`#${s.hash}`:""}`},null,8,ee)])])}const te=P(J,[["render",ae]]),ne={class:"varlet-site-sidebar var-elevation--3"},se=["href"],oe=_("span",{class:"varlet-site-sidebar__indicator"},null,-1),le={key:0,class:"varlet-site-sidebar__item--title"},ce={key:1},re=I({__name:"AppSidebar",props:{menu:{},menuName:{},language:{}},emits:["change"],setup(C,{emit:r}){const s=C,m=r,i=D(N),u=a=>{a.type===N.TITLE||s.menuName===a.doc||m("change",a)};return(a,d)=>{const g=k("var-cell"),b=V("ripple");return o(),c("div",ne,[(o(!0),c(M,null,U(a.menu,(t,w)=>(o(),c("a",{class:"varlet-site-sidebar__link",key:w,href:t.type!==T(N).TITLE?`#/${a.language}/${t.doc}`:void 0,onClick:d[0]||(d[0]=q(()=>{},["prevent"]))},[A((o(),F(g,{class:B(["varlet-site-sidebar__item",{"varlet-site-sidebar__item--active":t.doc===a.menuName,"varlet-site-sidebar__cell":t.type!==i.TITLE,"varlet-site-sidebar__title":t.type===i.TITLE}]),id:t.doc,onClick:$=>u(t)},{default:x(()=>[oe,t.type===i.TITLE?(o(),c("span",le,E(t.text[a.language]),1)):(o(),c("span",ce,E(t.text[a.language]),1))]),_:2},1032,["id","class","onClick"])),[[b,{disabled:t.type===i.TITLE}]])],8,se))),128))])}}}),ie={class:"varlet-site"},ue={class:"varlet-site-content"},de={class:"varlet-site-playground-container"},pe=["src"],ve=I({__name:"Layout",setup(C){const r=Q,s=p(h(f,"pc.menu",[])),m=p(h(f,"useMobile")),i=h(f,"mobile.redirect"),u=p(""),a=p(),d=p(""),g=p(""),b=p(null),t=W(),w=e=>{const n=s.value.find(l=>l.doc===e);return(n==null?void 0:n.type)===N.COMPONENT?e:i.slice(1)},$=()=>{const{menuName:e}=S();X(()=>{const n=document.querySelector(".varlet-site-sidebar").getElementsByClassName("var-cell"),l=s.value.findIndex(v=>v.doc===e);l!==-1&&n[l].scrollIntoView({block:"center",inline:"start"})})},R=e=>{b.value.scrollTop=0,a.value=w(e.doc),d.value=e.doc,g.value=""},L=()=>{const e="VARLET_UI_PLAYGROUND_HAS_BEEN_CLOSED";!localStorage.getItem(e)&&!window.confirm("The code will no longer be saved after closing. Are you sure you want to close?")||(localStorage.setItem(e,"true"),r.showPlayground=!1)};return H(()=>{$(),window.addEventListener("message",e=>{const{data:n}=e;n.action==="playground-close"&&L()})}),Y(()=>t.path,()=>{var v;const{language:e,menuName:n,hash:l}=S();!e||!n||(a.value=w(n),d.value=n,g.value=l,u.value=e,m.value=((v=s.value.find(O=>O.doc===n))==null?void 0:v.useMobile)??h(f,"useMobile"),document.title=h(f,"pc.title")[e])},{immediate:!0}),(e,n)=>{const l=k("router-view"),v=k("var-popup");return o(),c(M,null,[_("div",ie,[y(j,{language:u.value},null,8,["language"]),_("div",ue,[y(re,{language:u.value,menu:s.value,"menu-name":d.value,onChange:R},null,8,["language","menu","menu-name"]),_("div",{class:B(["varlet-site-doc-container",[!m.value&&"varlet-site-doc-container--pc-only"]]),ref_key:"doc",ref:b},[y(l)],2),A(y(te,{"component-name":a.value,language:u.value,replace:d.value,hash:g.value},null,8,["component-name","language","replace","hash"]),[[z,m.value]])])]),y(v,{position:"right",show:T(r).showPlayground,onClickOverlay:L},{default:x(()=>[_("div",de,[T(r).showPlayground?(o(),c("iframe",{key:0,id:"playground",class:"varlet-site-playground-iframe",src:T(r).playgroundURL,allow:"clipboard-write"},null,8,pe)):G("v-if",!0)])]),_:1},8,["show"])],64)}}});export{ve as default};
